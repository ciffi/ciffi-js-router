var UserConfig=require("../../../src/scripts/config/config"),RouterConfig=require("./libs/router-config.min"),CONFIG=new RouterConfig(UserConfig.env),Pages=require("../../../src/scripts/config/pages"),PushState=require("./libs/pushstate.min"),$=require("jquery"),Router=function(){function e(e){s(e,$.proxy(function(){this.pages=e,this.history={pages:[],modules:{}},this.init()},this))}function s(e,s){var t=!1;e&&"object"==typeof e&&(t||s())}function t(e){var s=!1;return $.each(e,function(e,t){$(e).length>0&&(s={trigger:e,route:t})}),s}function r(e,s){document.body.classList.add("app-is-ready");var t=require("../../../src/scripts/pages/"+a)();new t(CONFIG).onLoad(s.route);var r=require("../../../src/scripts/pages/"+s.route)();new r(CONFIG).onLoad()}function i(e,s,t,r){if(s[t]){if(e.pages.indexOf(t)<0){e.pages.push(t);var i=require("../../../src/scripts/pages/"+s[t])();e.modules[t]=new i(CONFIG)}var a=$("c-view"),n=e.modules[t].content;if(n){var o=require("../../../src/views/"+t+".html.twig");a.html(o(n))}e.modules[t].onLoad(),r.onLoad(s[t])}}var a="allpages";return e.prototype.init=function(){"local"===CONFIG.env&&document.write('<script src="'+CONFIG.baseUrl+':35729/livereload.js?snipver=1" async="" defer=""></script>')},e.prototype.pushState=function(e){if(e){document.body.classList.add("app-is-ready");var s=require("../../../src/scripts/pages/"+a)(CONFIG),n=new s(CONFIG);this.isPushStateEnabled=PushState.checkSupport(),this.isPushStateEnabled&&PushState.watcher(this.pages,$.proxy(function(e){var s=this.pages,t=e.url;i(this.history,s,t,n)},this));var o=window.location.pathname.replace("/","");if(this.pages.hasOwnProperty(o))PushState.push({url:o},o);else{var u=0;$.each(this.pages,function(e){0===u++&&PushState.push({url:e},"")})}return this.isPushStateEnabled}var c=this.pages;return r(c,t(c)),"pushState disabled"},new e(Pages)}();module.exports=Router;